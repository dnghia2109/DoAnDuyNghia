<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{layout/layout-public :: main-fragment(~{:: title}, ~{:: #css}, ~{:: main}, ~{:: #js})}">
<head>
    <meta charset="UTF-8">
    <title th:text="${blog.title}">VnNews</title>
    <th:block id="css">
        <link rel="stylesheet" th:href="@{/css/blog-detail2.css}">
        <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.6/assets/owl.carousel.min.css" integrity="sha512-zZeaOGBINpZ40sf0vSXDHurC4euMISvK+qExhddoPrNuibf6aG9YmcrmPblFaaoas8MtbNjX5YOJft5DOoTRPw==" crossorigin="anonymous" referrerpolicy="no-referrer" />-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.6/assets/owl.theme.default.min.css" integrity="sha512-b9dbOB3FwYb+N2VZhyWqLKpg3LICBDeF9fHySV04DtrQQtK/Sx3C7EI9QR7G8+t6lATNH7QzfTfS0A05EIrz0Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </th:block>
</head>
<body>
<main class="main">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul class="huy">
                    <li>Trang chủ</li>
                    <li th:text="${blog.category.name}">huy01</li>
                    <li th:text="${blog.title}">title</li>
                </ul>
            </div>
            <div class="col-12 mt-1 mb-3 text-white">
                <div class="position-relative">
                    <div class="ratio_1140-535 image-wrapper">
                        <img th:src="${blog.thumbnail}" class="igm-fluid lazy entered loaded"
                             src="https://demo.bootstrap.news/bootnews/assets/img/1140x535/img5.jpg" alt="">
                    </div>
                    <div class="position-absolute p-3 b-0 w-100 bg-shadow">
                        <a href="#" class="badge bg-primary text-white rounded-0" th:text="${blog.category.name}">Holiday</a>
                        <h1 th:text="${blog.title}" class="h1 display-md-4 display-3-lg fw-bold mt-2 text-white">5 Simple Tips to Help
                            Vegetarian or Vegan
                            Travelers Eat Well, Anywhere</h1>
                        <div class="post-atribute mb-3">
                            <div class="my-3 text-light small">
                                <span class="d-none d-sm-inline">
                                    by <a class="fw-bold text-light" href="#l" th:text="${blog.author}">John Doe</a>
                                </span>
                                <time class="ms-0 ms-sm-2 ms-md-3" datetime="2019-10-22">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                                         fill="currentColor" class="bi bi-calendar-check me-1" viewBox="0 0 16 16">
                                        <path
                                                d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z">
                                        </path>
                                        <path
                                                d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z">
                                        </path>
                                    </svg> Oct 22, 2019
                                </time>
                                <span class="ms-2 ms-md-3"  >
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                         fill="currentColor" class="bi bi-eye me-1" viewBox="0 0 16 16">
                                        <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z">
                                        </path>
                                        <path
                                                d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z">
                                        </path>
                                    </svg>
                                    <span th:text="${blog.views} + ' views'">1.230x view</span>
                                </span>
                                <span class="like-mark">
                                    <i class="bx bxs-bookmark-alt-plus"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <button sec:authorize="isAnonymous()" onclick="requireLogin()" class="btn btn-primary mt-2"> <i class='bx bxs-bookmark-alt-plus'></i>Lưu bài viết</button>
                <button sec:authorize="isAuthenticated()" class="btn btn-success mt-2" th:if="${isExistInSavedList}" onclick="openModalConfirmDeleteSaveBlog()">
                    <i class='bx bxs-bookmark-alt'></i> Đã lưu bài viết
                </button>
                <button sec:authorize="isAuthenticated()" class="btn btn-primary mt-2" th:if="${!isExistInSavedList}" onclick="saveBlog()">
                    <i class='bx bxs-bookmark-alt-plus'></i> Lưu bài viết
                </button>
            </div>
            <div class="col-md-8">
                <div class="mb-4 main-blog-content">
                    <th:block  th:utext="${blog.content}">
                        Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of
                    </th:block>
                </div>
                
                <div class="entry-footer">
                    <div class="tags-area">
                        <ul class="tags-links tagcloud ps-0 fw-bold me-2" >Tags
                            <th:block th:each="tag:${blog.tags}">
                                <li><a href="#" th:text="${tag.name}">travel</a></li>
                            </th:block>
                        </ul>
                    </div>
                </div>
                <div class="related-post mb-4">
                    <div class="block-title-6">
                        <h4 class="h5 border-primary border-2">
                            <span class="bg-primary text-white box-title">Related articles</span>
                        </h4>
                    </div>
                    <div class="owl-carousel owl-theme" >
                        <th:block th:each = "blog : ${relatedBlogs}">
                            <div class="item">
                                <div class="image-slide">
                                    <img th:src="${blog.thumbnail}" src="https://cdnphoto.dantri.com.vn/20PshbqqpgZafumzbbmMzBX2thM=/zoom/351_234/2023/12/19/deo-prennlam-dong2023le-s0n2-1702978007741.jpg" alt=""/>
                                    <div class="slide-img-detail">
                                        <h5 th:text="${blog.title}" class="card-title h6 h6-sm h6-md text-light my-1">94 Easy Chicken Recipes for Fuss-Free Family Dinners</h5>
                                        <div class="cart-slide-time">
                                            <time th:text="${#temporals.format(blog.publishedAt, 'dd/MM/yyyy')}" datetime="2019-10-18">Oct 18, 2019</time>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                    </div>
                </div>

                <div class="comments">
                    <div class="block-title-6">
                        <h4 class="h5 border-primary border-2">
                            <span class="bg-primary text-white box-title" th:text="${blog.comments.size() + ' comments'}">5 Comments</span>
                        </h4>
                    </div>
                    <ol class="comment-list" th:if="${blog.comments.size()} > 0">
                        <th:block th:if="${blog.comments.size()} > 0" th:each = "comment:${blog.comments}">
                            <li>
                                <div class="user-comment u-hover">
                                    <footer>
                                        <img class="avatar-md border img-fluid float-start me-3" th:src="${comment.author.getAvatar()}"
                                             src="https://demo.bootstrap.news/bootnews/assets/img/avatar/avatar1.png"
                                             alt="avatar">
                                        <div class="title-comments">
                                            <a class="authors" href="#" target="_blank" th:text="${comment.author.name}">Jennifer Tan</a>
                                            <span class="text-muted dates small">
												<time th:text="${#temporals.format(comment.updatedAt, 'dd-MM-yyyy HH:mm:ss')}">Oct 27, 2019 at 12:11 am</time>
											</span>
                                            <div class="comment-content">
                                                <p th:text="${comment.content}">News magazine bootstrap themes!</p>
                                            </div>
                                            <div style="display: flex; justify-content: end">
                                                <div class="btn-reply">
                                                    <button class="btn btn-warning bg-warning comment-reply"  th:onclick="|openModalUpdate(${comment.id})|">
                                                        Sửa
                                                    </button>
                                                </div>
                                                <div class="btn-delete">
                                                    <button class="btn btn-primary comment-reply" th:onclick="|openModalConfirmDeleteComment(${comment.id})|">
                                                        Xóa
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </footer>
                                </div>
                            </li>
                        </th:block>
                    </ol>
                    <div class="comment-form">
                        <h3>Bình luận</h3>
                        <p><a href="#">Đăng nhập email để bình luận về bài viết</a></p>
                        <textarea id="comment-content"
                                aria-label="dạng bình luận"
                                class="form-control"
                                placeholder="Bình luận"
                                rows="4"
                                required=""
                        ></textarea>
                        <button type="button" class="btn btn-primary" id="btn-comment">
                            Đăng bình luận
                        </button>
<!--                        <button sec:authorize="!isAuthenticated()" type="button" class="btn btn-primary disabled">-->
<!--                            Đăng bình luận-->
<!--                        </button>-->
                    </div>
                </div>
            </div>
            <aside class="col-md-4 end-sidebar-lg">
                <aside class="widget">
                    <div class="block-title-4">
                        <h4 class="h5 title-arrow">
                            <span>Social network</span>
                        </h4>
                    </div>
                    <div class="img-block">
                        <img src="https://demo.bootstrap.news/bootnews/assets/img/337x337/img7.jpg" alt="">
                    </div>
                </aside>
                <aside class="widget">
                    <div class="block-title-4">
                        <h4 class="h5 title-arrow">
                            <span>Latest news</span>
                        </h4>
                    </div>
                    <div class="big-post">
                        <article class="card card-full hover-a mb-4">
                            <!--thumbnail-->
                            <div class="ratio_360-202 image-wrapper">
                                <a href="#">
                                    <img class="img-fluid lazy entered loaded"
                                         src="https://demo.bootstrap.news/bootnews/assets/img/360x202/img55.jpg"
                                         data-src="../../assets/img/360x202/img55.jpg" alt="Image description"
                                         data-ll-status="loaded">
                                </a>
                            </div>
                            <div class="card-body">
                                <!--title-->
                                <h2 class="card-title h1-sm h3-md">
                                    <a href="#">MotoGP: Which team needs what in 2019?</a>
                                </h2>
                                <!-- author & date -->
                                <div class="card-text mb-2 text-muted small">
                                        <span class="d-none d-sm-inline me-1">
                                            <a class="fw-bold" href="#">John Doe</a>
                                        </span>
                                    <time datetime="2019-10-22">Oct 22, 2019</time>
                                </div>
                                <!--description-->
                                <p class="card-text">Trang trí nhà bếp như nào.</p>
                            </div>
                        </article>
                    </div>
                </aside>
                <aside class="widget">
                    <div class="block-title-4">
                        <h4 class="h5 title-arrow">
                            <span>Latest news</span>
                        </h4>
                    </div>
                    <div class="big-post" th:each="blog, iterStat:${lastestBlogs}" th:if="${iterStat.first}">
                        <article class="card card-full hover-a mb-4" >
                            <!--thumbnail-->
                            <div class="ratio_360-202 image-wrapper">
                                <a th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">
                                    <!-- <img class="img-fluid lazy entered loaded"
                                        src="https://demo.bootstrap.news/bootnews/assets/img/360x202/img55.jpg"
                                        data-src="../../assets/img/360x202/img55.jpg"
                                        alt="Image description"
                                        data-ll-status="loaded"> -->
                                    <img th:src="${blog.thumbnail}" class="img-fluid lazy entered loaded"
                                         src="https://i1-vnexpress.vnecdn.net/2023/12/14/fed1-2023-12-14t182450-403-170-3244-4695-1702553437.jpg?w=380&h=228&q=100&dpr=1&fit=crop&s=efj5_qZup945ccSrzZWafg"
                                         
                                         alt="Image description"
                                         data-ll-status="loaded">
                                </a>
                            </div>
                            <div class="card-body">
                                <!--title-->
                                <h2 class="card-title h1-sm h3-md">
                                    <a th:text="${blog.title}" th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">MotoGP: Which team needs what in 2019?</a>
                                </h2>
                                <!-- author & date -->
                                <div class="card-text mb-2 text-muted small">
                                <span class="d-none d-sm-inline me-1">
                                    <a th:text="${blog.author}" class="fw-bold" href="#">John Doe</a>
                                </span>
                                    <time th:text="${#temporals.format(blog.publishedAt, 'dd/MM/yyyy')}" datetime="2019-10-22">Oct 22, 2019</time>
                                </div>
                                <!--description-->
                                <p th:text="${blog.description}" class="card-text">This is a wider card with supporting text below as a natural
                                    lead-in to additional content. This content is a little bit longer.</p>
                            </div>
                        </article>
                    </div>
                </aside>
                <div class="small-post">
                    <!--post list-->
                    <article class="card card-full hover-a mb-4" th:each="blog, iterStat:${lastestBlogs}" th:if="${!iterStat.first}">
                        <div class="row">
                            <!--thumbnail-->
                            <div class="col-3 col-md-4 pe-2 pe-md-0">
                                <div class="ratio_110-77 image-wrapper">
                                    <a th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">
                                        <!-- <img class="img-fluid lazy entered loaded"
                                            src="https://demo.bootstrap.news/bootnews/assets/img/110x77/img5.jpg"
                                            data-src="../../assets/img/110x77/img5.jpg" alt="Image description"
                                            data-ll-status="loaded"> -->
                                        <img th:src="${blog.thumbnail}" class="img-fluid lazy entered loaded"
                                             src="data:image/jpeg;base64,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">
                                    </a>
                                </div>
                            </div>
                            <!-- title & date -->
                            <div class="col-9 col-md-8">
                                <div class="card-body pt-0">
                                    <h3 class="card-title h6 h5-sm h6-md">
                                        <a th:text="${blog.title}" th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">Take the kids to Windermere Jetty, Lake District</a>
                                    </h3>
                                    <div class="card-text small text-muted">
                                        <time th:text="${#temporals.format(blog.publishedAt, 'dd/MM/yyyy')}" datetime="2019-10-16">Oct 16, 2019</time>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
                
                <!--Bài viết có nhiều lượt xem trong hệ thống-->
                <aside class="widget">
                    <div class="block-title-4">
                        <h4 class="h5 title-arrow">
                            <span>Bài viết phổ biến</span>
                        </h4>
                    </div>
                    <div class="big-post" th:each="blog, iterStat:${popularBlogs}" th:if="${iterStat.first}">
                        <article class="card card-full hover-a mb-4" >
                            <!--thumbnail-->
                            <div class="ratio_360-202 image-wrapper">
                                <a th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">
                                    <!-- <img class="img-fluid lazy entered loaded"
                                        src="https://demo.bootstrap.news/bootnews/assets/img/360x202/img55.jpg"
                                        data-src="../../assets/img/360x202/img55.jpg"
                                        alt="Image description"
                                        data-ll-status="loaded"> -->
                                    <img th:src="${blog.thumbnail}" class="img-fluid lazy entered loaded"
                                         src="https://i1-vnexpress.vnecdn.net/2023/12/14/fed1-2023-12-14t182450-403-170-3244-4695-1702553437.jpg?w=380&h=228&q=100&dpr=1&fit=crop&s=efj5_qZup945ccSrzZWafg"
                                         
                                         alt="Image description"
                                         data-ll-status="loaded">
                                </a>
                            </div>
                            <div class="card-body">
                                <!--title-->
                                <h2 class="card-title h1-sm h3-md">
                                    <a th:text="${blog.title}" th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">MotoGP: Which team needs what in 2019?</a>
                                </h2>
                                <!-- author & date -->
                                <div class="card-text mb-2 text-muted small">
                                    <span class="d-none d-sm-inline me-1">
                                        <a th:text="${blog.author}" class="fw-bold" href="#">John Doe</a>
                                    </span>
                                    <time th:text="${#temporals.format(blog.publishedAt, 'dd/MM/yyyy')}" datetime="2019-10-22">Oct 22, 2019</time>
                                </div>
                                <!--description-->
                                <p th:text="${blog.description}" class="card-text">This is a wider card with supporting text below as a natural
                                    lead-in to additional content. This content is a little bit longer.</p>
                            </div>
                        </article>
                    </div>
                </aside>
                <div class="small-post">
                    <!--post list-->
                    <article class="card card-full hover-a mb-4" th:each="blog, iterStat:${popularBlogs}" th:if="${!iterStat.first}">
                        <div class="row">
                            <!--thumbnail-->
                            <div class="col-3 col-md-4 pe-2 pe-md-0">
                                <div class="ratio_110-77 image-wrapper">
                                    <a th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">
                                        <!-- <img class="img-fluid lazy entered loaded"
                                            src="https://demo.bootstrap.news/bootnews/assets/img/110x77/img5.jpg"
                                            data-src="../../assets/img/110x77/img5.jpg" alt="Image description"
                                            data-ll-status="loaded"> -->
                                        <img th:src="${blog.thumbnail}" class="img-fluid lazy entered loaded"
                                             src="data:image/jpeg;base64,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">
                                    </a>
                                </div>
                            </div>
                            <!-- title & date -->
                            <div class="col-9 col-md-8">
                                <div class="card-body pt-0">
                                    <h3 class="card-title h6 h5-sm h6-md">
                                        <a th:text="${blog.title}" th:href="@{/homepage/blogs/{blogId}/{blogSlug} (blogId=${blog.id}, blogSlug=${blog.slug})}">Take the kids to Windermere Jetty, Lake District</a>
                                    </h3>
                                    <div class="card-text small text-muted">
                                        <time th:text="${#temporals.format(blog.publishedAt, 'dd/MM/yyyy')}" datetime="2019-10-16">Oct 16, 2019</time>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </aside>
        </div>
    </div>
    
    <!-- Modal update comment -->
    <div class="modal fade" id="modalUpdateComment">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title fs-5">Chỉnh sửa bình luận</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input type="text" class="form-control" id="input-comment-update" placeholder="Nhập bình luận ...">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
                    <button type="button" class="btn btn-primary" id="btn-update-comment">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal confirm remove comment -->
    <div class="modal fade" id="confirmDeleteComment" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-center" id="loginModalLabel">Xác nhânk</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Bạn thực sự muốn xóa bình luận này?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
                    <button id="btn-delete-comment" class="btn btn-primary">Đồng ý</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- Modal require login-->
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Thông báo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Bạn cần đăng nhập để lưu bài viết.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Đóng</button>
                    <a href="/auth/login" target="_blank" class="btn btn-primary" data-dismiss="modal">Đăng nhập</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal confirm remove blog from savedlist -->
    <div class="modal fade" id="confirmDeleteSavedBlog" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Xác nhận</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>Bạn chắc chắn muốn xóa bài viết khỏi Danh sách đã lưu ?.</p>
                </div>
                <div class="modal-footer">
                    <button id="btn-confirm-save-blog" onclick="deleteSavedBlog()" class="btn btn-primary">Đồng ý</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy</button>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
<th:block id="js">
    <script th:inline="javascript">
        const blog = [[${blog}]];
        const categories = [[${isExistInSavedList}]]
        const commentList = [[${blog.comments}]];
        const inputCommentEl = document.getElementById("input-comment-update");
        const btnUpdateCommentEl = document.getElementById("btn-update-comment");
        const btnDeleteCommentEl = document.getElementById("btn-delete-comment");
        let idCommentUpdate = null;
        let idCommentDelete = null;
        
        console.log(commentList)
        console.log(1)
        console.log(categories)
        console.log(2)
        console. log(jQuery(). jquery);

        $(".owl-carousel").owlCarousel({
            loop: true,
            margin: 10,
            nav: true,
            autoplay: true,  // Tự động chuyển ảnh
            autoplayTimeout: 2000,  // Thời gian giữa các lần chuyển ảnh (3 giây)
            autoplayHoverPause: true, // Tạm dừng tự động chuyển khi di chuyển chuột qua ảnh
            responsive: {
                0: {
                    items: 2,
                },
                600: {
                    items: 3,
                },
                1000: {
                    items: 3,
                },
            },
        });
        
        const commentContentEl = document.getElementById("comment-content");
        const btnPostComment = document.getElementById("btn-comment");
        let isValid = true;
        btnPostComment.addEventListener("click", async (e) => {
            try {
                e.preventDefault();
                const content = commentContentEl.value;
                console.log(content)
                if (content.length === 0) {
                    toastr.error("Bạn cần nhập nội dung bình luận!");
                    isValid = false;
                }
                const request = {
                    content
                }
                if (isValid) {
                    let res = await axios.post("/api/v1/comments/" + blog.id, request);
                    console.log(content)
                    if (res.status === 200) {
                        toastr.success("Đăng bình luận thành công");
                        commentContentEl.value = "";
                        setTimeout(() => {
                            location.reload()
                        })
                        // alert(`Đăng ký thành công bạn sẽ nhận được các bài báo mới vào 6 giờ sáng mỗi ngày tại địa chỉ email - ${emailVal}`)
                    } else {
                        toastr.error("Không thành công")
                    }
                }
            } catch (err) {
                toastr.warning(err.response.data.message);
                console.log(err);
            }
        })
        
        // Update comment
        const openModalUpdate = (id) => {
            const comment = commentList.find(c => c.id === id);
            console.log(comment);
            inputCommentEl.value = comment.content;
            idCommentUpdate = comment.id;
            $("#modalUpdateComment").modal("show");
        }
        btnUpdateCommentEl.addEventListener("click", async (e) => {
            try {
                e.preventDefault();
                const content = inputCommentEl.value;
                console.log(content)
                if (content.length === 0) {
                    toastr.error("Bạn cần nhập nội dung bình luận!");
                    isValid = false;
                }
                const request = {
                    content
                }
                if (isValid) {
                    let res = await axios.put("/api/v1/comments/" + idCommentUpdate, request);
                    console.log(content)
                    if (res.status === 200) {
                        toastr.success("Cập nhật bình luận thành công");
                        commentContentEl.value = "";
                        idCommentUpdate = null;
                        setTimeout(() => {
                            location.reload()
                        },1000)
                    } else {
                        toastr.error("Không thành công")
                    }
                }
            } catch (err) {
                toastr.warning(err.response.data.message);
                console.log(err);
            }
        })
        
        
        // Delete comment
        const openModalConfirmDeleteComment = (id) => {
            const comment = commentList.find(c => c.id === id);
            console.log(comment);
            idCommentDelete = comment.id;
            $("#confirmDeleteComment").modal("show");
        }
        btnDeleteCommentEl.addEventListener("click", async (e) => {
            try {
                let res = await axios.delete("/api/v1/comments/" + idCommentDelete);
                if (res.status === 200 || res.status === 204) {
                    toastr.success("Xóa nhật bình luận thành công");
                    idCommentDelete = null;
                    setTimeout(() => {
                        location.reload()
                    },1000)
                } else {
                    toastr.error("Không thành công")
                }
            } catch (err) {
                toastr.warning(err.response.data.message);
                console.log(err);
            }
        })
        
        // Check login
        const requireLogin = () => {
            $('#loginModal').modal('show');
        }
        
        // Confirm delete savedblog
        const openModalConfirmDeleteSaveBlog = () => {
            $('#confirmDeleteSavedBlog').modal('show');
        }
        const deleteSavedBlog = async (e) => {
            try {
                let res = await axios.delete("/api/v1/blogs/saved-list/" + blog.id +"?type=detail-page")

                if(res.status === 200) {
                    toastr.success("Xóa thành công!");
                    setTimeout(() => {
                        location.reload();
                    }, 1500)
                }
            } catch (err) {
                toastr.error(err.response.data.message);
                console.log(err)
            }
        }
        
        // Save a blog to SavedList
        const saveBlog = async (e) => {
            try {
                let res = await axios.post("/api/v1/blogs/saved-list/" + blog.id)
                if(res.status === 200) {
                    toastr.success("Lưu bài viết thành công!");
                    setTimeout(() => {
                        location.reload();
                    }, 1500)
                }
            } catch (err) {
                toastr.error(err.response.data.message);
                console.log(err)
            }
        }
    </script>
</th:block>
</html>